<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Test</title>
	<style>
		body {margin: 0;}
		.content {width: 1000px; margin: 0 auto;}
		.map {width: 1000px; height: 500px;}
		.map-text {background-color: #000; color: #fff; text-align: center;
			-webkit-border-radius: 5px;
			-moz-border-radius: 5px;
			border-radius: 5px;
		}
	</style>
	<script src="jquery-1.10.2.min.js"></script>
	<script src="http://maps.google.com/maps/api/js?sensor=true&libraries=drawing"></script>
	<script>
		//var overlay;

		$(function() {
			var mapOptions = {
					center: new google.maps.LatLng(-34.397, 150.644),
					zoom: 8,
					mapTypeId: google.maps.MapTypeId.SATELLITE
				},
				map = new google.maps.Map(document.getElementById('map'), mapOptions);

			google.maps.event.addListener(map, 'click', function(ev) {
				var c = ev.latLng;
				console.log(c.lat() + ' - ' + c.lng());
			});

			var swBound = new google.maps.LatLng(-34.777715803604686, 149.293212890625);

			var overlay = new textOverlay(swBound, map);
		});

		function textOverlay(coord, map) {
			this.coord_ = coord;
			this.map_ = map;

			this.div_ = null;
			this.first_world_width_ = null;
			this.first_font_size_ = 20;

			this.setMap(map);
		}

		textOverlay.prototype = new google.maps.OverlayView();

		textOverlay.prototype.onAdd = function() {
			this.first_world_width_ = this.getProjection().getWorldWidth();

			var div = document.createElement('div');
			div.className = 'map-text';
			div.style.position = 'absolute';
			div.style.fontSize = this.first_font_size_ + 'px';
			div.innerHTML = 'Какой-то текст!';

			this.div_ = div;

			var panes = this.getPanes();
			panes.overlayLayer.appendChild(div);
		}

		textOverlay.prototype.draw = function() {
			var overlayProjection = this.getProjection();

			var scale = this.first_world_width_ / overlayProjection.getWorldWidth();
			var sw = overlayProjection.fromLatLngToDivPixel(this.coord_);

			var div = this.div_;
			div.style.left = sw.x + 'px';
			div.style.top = sw.y + 'px';
			div.style.width = 200 / scale + 'px';
			div.style.height = 50 / scale + 'px';
			div.style.lineHeight = 50 / scale + 'px';
			div.style.fontSize = this.first_font_size_ / scale + 'px';
		}

		textOverlay.prototype.onRemove = function() {
			this.div_.parentNode.removeChild(this.div_);
			this.div_ = null;
		}
	</script>
</head>
<body>
	<div class="content"><div id="map" class="map"></div></div>
</body>
</html>