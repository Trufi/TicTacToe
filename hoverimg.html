<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Hover Image</title>
	<style type="text/css">
		body {margin: 0;}
		.content {width: 1050px; margin: 0 auto;}
		.image {width: 1001px; height: 651px; background: transparent url('./media/img.jpg') 0 0 no-repeat; line-height: 0;}
		.item {width: 49px; height: 49px; margin: 1px 0 0 1px; display: inline-block; background: rgba(255,255,255,0.95);}
		.item:hover {background: rgba(255,255,255,0);} 
		.item.active {background: rgba(255,255,255,0);}
	</style>
	<script type="text/javascript" src="jquery-1.10.2.min.js"></script>
	<!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"  type="text/javascript"></script> -->
	<script type="text/javascript">
		$(function() {
			var image = {self: $('.image'), width: $('.image').width(), height: $('.image').height()};
			var it = {width: 50, height: 50};
			it.lenX = Math.floor(image.width / it.width);
			it.lenY = Math.floor(image.height / it.width);

			items = [];
			(function initItems() {
				var t = 0;
				for(j = 0; j < it.lenY; j++) {
					for (i = 0; i < it.lenX; i++){
						t = $('<div>', {class: 'item'});
						t.data('coord', {x: i, y: j});
						$('.image').append(t);
						items[i + j * it.lenX] = {self: t, opacity: 1};
					}
				}
			} ());

			function addOpacity(opac, step) {
				return opca
			}
			function openItems(c) {
				items[c.x + c.y * it.lenX].self.css({opacity: '0'});
				items[c.x - 1 + c.y * it.lenX].self.css({opacity: '0.3'}); // left 1
				items[c.x + 1 + c.y * it.lenX].self.css({opacity: '0.3'}); // right 1
				items[c.x + (c.y + 1) * it.lenX].self.css({opacity: '0.3'}); // top 1
				items[c.x + (c.y - 1) * it.lenX].self.css({opacity: '0.3'}); // bottom 1

				items[c.x - 1 + (c.y + 1) * it.lenX].self.css({opacity: '0.8'}); // left top
				items[c.x + 1 + (c.y + 1) * it.lenX].self.css({opacity: '0.8'}); // right top
				items[c.x - 1 + (c.y - 1) * it.lenX].self.css({opacity: '0.8'}); // left bottom
				items[c.x + 1 + (c.y - 1) * it.lenX].self.css({opacity: '0.8'}); // right bottm

				items[c.x - 2 + c.y * it.lenX].self.css({opacity: '0.8'}); // left 2
				items[c.x + 2 + c.y * it.lenX].self.css({opacity: '0.8'}); // right 2
				items[c.x + (c.y + 2) * it.lenX].self.css({opacity: '0.8'}); // top 2
				items[c.x + (c.y - 2) * it.lenX].self.css({opacity: '0.8'}); // bottom 2

			}
			$('.item').click(function() {
				openItems($(this).data('coord'));
			});

		});
	</script>
</head>
<body>
	<div class="content">
		<div class="image"></div>
	</div>
</body>
</html>